{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/Trending/index.js\";\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Cookies from 'js-cookie';\nimport Header from '../Header';\nimport SideBar from '../SideBar';\nimport ModeContext from '../../context/ModeContext';\nimport VideoCard from '../VideoCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nclass Trending extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      apiStatus: apiConstants.initial,\n      videosData: []\n    };\n    this.getVideosApi = async () => {\n      try {\n        const token = Cookies.get('jwt_token');\n        this.setState({\n          apiStatus: apiConstants.inProgress\n        });\n        const options = {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        const url = `https://apis.ccbp.in/videos/trending`;\n        const response = await fetch(url, options);\n        const data = await response.json();\n        console.log(data);\n        if (response.ok) {\n          const updatedData = data.videos.map(eachItem => ({\n            id: eachItem.id,\n            title: eachItem.title,\n            thumbnailUrl: eachItem.thumbnail_url,\n            viewCount: eachItem.view_count,\n            publishedAt: eachItem.published_at,\n            channelName: eachItem.channel.name,\n            profileImageUrl: eachItem.channel.profile_image_url\n          }));\n          this.setState({\n            videosData: updatedData,\n            apiStatus: apiConstants.success\n          });\n        } else {\n          this.setState({\n            apiStatus: apiConstants.failure\n          });\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n  }\n  componentDidMount() {\n    this.getVideosApi();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Trending;","map":{"version":3,"names":["Component","Loader","Cookies","Header","SideBar","ModeContext","VideoCard","jsxDEV","_jsxDEV","Fragment","_Fragment","apiConstants","initial","success","failure","inProgress","Trending","constructor","args","state","apiStatus","videosData","getVideosApi","token","get","setState","options","method","headers","Authorization","url","response","fetch","data","json","console","log","ok","updatedData","videos","map","eachItem","id","title","thumbnailUrl","thumbnail_url","viewCount","view_count","publishedAt","published_at","channelName","channel","name","profileImageUrl","profile_image_url","error","message","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/Trending/index.js"],"sourcesContent":["import {Component} from 'react'\n\nimport Loader from 'react-loader-spinner'\nimport Cookies from 'js-cookie'\n\nimport Header from '../Header'\nimport SideBar from '../SideBar'\nimport ModeContext from '../../context/ModeContext'\nimport VideoCard from '../VideoCard'\n\nconst apiConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass Trending extends Component {\n  state = {\n    apiStatus: apiConstants.initial,\n    videosData: [],\n  }\n\n  componentDidMount() {\n    this.getVideosApi()\n  }\n\n  getVideosApi = async () => {\n    try {\n      const token = Cookies.get('jwt_token')\n\n      this.setState({apiStatus: apiConstants.inProgress})\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n      const url = `https://apis.ccbp.in/videos/trending`\n\n      const response = await fetch(url, options)\n      const data = await response.json()\n      console.log(data)\n      if (response.ok) {\n        const updatedData = data.videos.map(eachItem => ({\n          id: eachItem.id,\n          title: eachItem.title,\n          thumbnailUrl: eachItem.thumbnail_url,\n          viewCount: eachItem.view_count,\n          publishedAt: eachItem.published_at,\n          channelName: eachItem.channel.name,\n          profileImageUrl: eachItem.channel.profile_image_url,\n        }))\n        this.setState({\n          videosData: updatedData,\n          apiStatus: apiConstants.success,\n        })\n      } else {\n        this.setState({apiStatus: apiConstants.failure})\n      }\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        <SideBar />\n      </>\n    )\n  }\n}\nexport default Trending\n"],"mappings":";AAAA,SAAQA,SAAS,QAAO,OAAO;AAE/B,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,OAAO,MAAM,WAAW;AAE/B,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,SAAS,MAAM,cAAc;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE,SAAS;EAClBC,UAAU,EAAE;AACd,CAAC;AAED,MAAMC,QAAQ,SAAShB,SAAS,CAAC;EAAAiB,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC/BC,KAAK,GAAG;MACNC,SAAS,EAAET,YAAY,CAACC,OAAO;MAC/BS,UAAU,EAAE;IACd,CAAC;IAAA,KAMDC,YAAY,GAAG,YAAY;MACzB,IAAI;QACF,MAAMC,KAAK,GAAGrB,OAAO,CAACsB,GAAG,CAAC,WAAW,CAAC;QAEtC,IAAI,CAACC,QAAQ,CAAC;UAACL,SAAS,EAAET,YAAY,CAACI;QAAU,CAAC,CAAC;QACnD,MAAMW,OAAO,GAAG;UACdC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASN,KAAM;UACjC;QACF,CAAC;QACD,MAAMO,GAAG,GAAI,sCAAqC;QAElD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAEJ,OAAO,CAAC;QAC1C,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;QAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;QACjB,IAAIF,QAAQ,CAACM,EAAE,EAAE;UACf,MAAMC,WAAW,GAAGL,IAAI,CAACM,MAAM,CAACC,GAAG,CAACC,QAAQ,KAAK;YAC/CC,EAAE,EAAED,QAAQ,CAACC,EAAE;YACfC,KAAK,EAAEF,QAAQ,CAACE,KAAK;YACrBC,YAAY,EAAEH,QAAQ,CAACI,aAAa;YACpCC,SAAS,EAAEL,QAAQ,CAACM,UAAU;YAC9BC,WAAW,EAAEP,QAAQ,CAACQ,YAAY;YAClCC,WAAW,EAAET,QAAQ,CAACU,OAAO,CAACC,IAAI;YAClCC,eAAe,EAAEZ,QAAQ,CAACU,OAAO,CAACG;UACpC,CAAC,CAAC,CAAC;UACH,IAAI,CAAC7B,QAAQ,CAAC;YACZJ,UAAU,EAAEiB,WAAW;YACvBlB,SAAS,EAAET,YAAY,CAACE;UAC1B,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,IAAI,CAACY,QAAQ,CAAC;YAACL,SAAS,EAAET,YAAY,CAACG;UAAO,CAAC,CAAC;QAClD;MACF,CAAC,CAAC,OAAOyC,KAAK,EAAE;QACdpB,OAAO,CAACC,GAAG,CAACmB,KAAK,CAACC,OAAO,CAAC;MAC5B;IACF,CAAC;EAAA;EAxCDC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACnC,YAAY,EAAE;EACrB;EAwCAoC,MAAMA,CAAA,EAAG;IACP,oBACElD,OAAA,CAAAE,SAAA;MAAAiD,QAAA,gBACEnD,OAAA,CAACL,MAAM;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eACVvD,OAAA,CAACJ,OAAO;QAAAwD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAA,gBACV;EAEP;AACF;AACA,eAAe/C,QAAQ"},"metadata":{},"sourceType":"module"}